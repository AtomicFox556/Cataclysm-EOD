[
  {
    "id": "acidbomb",
    "type": "AMMO",
    "category": "weapons",
    "name": { "str": "acid bomb" },
    "description": "A glass bottle filled with strong acid.  If thrown by hand or with a staff sling, it'll break and create a pool of potent acid.",
    "weight": "1830 g",
    "volume": "953 ml",
    "longest_side": "276 mm",
    "price": 5000,
    "price_postapoc": 500,
    "to_hit": -1,
    "material": [ "glass" ],
    "symbol": "*",
    "color": "yellow",
    "use_action": [ "ACIDBOMB_ACT" ],
    "flags": [ "ACT_ON_RANGED_HIT", "NPC_THROWN" ],
    "//": "Should explode in fire, spilling acid, but currently ACT_IN_FIRE flag doesn't properly work for this.",
    "ammo_type": "sling-ready_grenade",
    "damage": { "damage_type": "bash", "amount": 4 },
    "range": 11,
    "dispersion": 14,
    "effects": [ "NEVER_MISFIRES", "NON_FOULING", "ACIDBOMB" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "c4",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "M112 C-4 block" },
    "description": "A block of military-grade RDX-based plastic explosive, equipped with a mechanical timer and a blasting cap.  Unlike most other explosives, it won't explode if exposed to fire.  To use it, activate it to arm it; you'll then be presented with an option to specify time until detonation, in seconds.  After the time specified passes, it'll explode.",
    "weight": "570 g",
    "volume": "540 ml",
    "longest_side": "28 cm",
    "price": 9000,
    "price_postapoc": 2000,
    "to_hit": -4,
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "use_action": [ "C4" ]
  },
  {
    "id": "c4armed",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "armed M112 C-4 block" },
    "description": "A block of military-grade RDX-based plastic explosive, equipped with a mechanical timer and a blasting cap.  Unlike most other explosives, it won't explode if exposed to fire.  Its timer is ticking down, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "weight": "570 g",
    "volume": "540 ml",
    "longest_side": "28 cm",
    "price": 0,
    "to_hit": -4,
    "material": [ "plastic" ],
    "symbol": ";",
    "color": "light_gray",
    "initial_charges": 9,
    "max_charges": 9,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated; throw or drop it to get rid of it.",
      "explosion": { "power": 2000 }
    },
    "flags": [ "TRADER_AVOID", "BOMB" ]
  },
  {
    "id": "dynamite",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite bundle" },
    "description": "Several sticks of dynamite with a fuse attached.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 20 seconds to throw it before it explodes.",
    "weight": "1133 g",
    "volume": "750 ml",
    "longest_side": "15 cm",
    "price": 6000,
    "price_postapoc": 1000,
    "to_hit": -3,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "color": "red",
    "use_action": {
      "need_wielding": true,
      "target": "dynamite_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "dynamite_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit dynamite bundle" },
    "description": "Several sticks of dynamite with a fuse attached.  The fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "weight": "1133 g",
    "volume": "750 ml",
    "longest_side": "15 cm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "material": [ "paper", "powder" ],
    "symbol": "*",
    "color": "red",
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 938 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated; throw or drop it to get rid of it.",
      "explosion": { "power": 938 }
    },
    "flags": [ "TRADER_AVOID", "BOMB" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "dynamite_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "dynamite bomb" },
    "description": "Several sticks of dynamite surrounded by shrapnel and stuffed into a steel container, with a fuse attached.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 20 seconds to place it down before it explodes, scattering shrapnel.",
    "weight": "2730 g",
    "volume": "2000 ml",
    "longest_side": "25 cm",
    "price": 6000,
    "price_postapoc": 1500,
    "to_hit": -3,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "red",
    "use_action": {
      "need_wielding": true,
      "target": "dynamite_bomb_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "dynamite_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit dynamite bomb" },
    "description": "Several sticks of dynamite surrounded by shrapnel and stuffed into a steel container.  The fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; drop it to get rid of it.",
    "weight": "2730 g",
    "volume": "2000 ml",
    "longest_side": "25 cm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "red",
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 938, "shrapnel": { "casing_mass": 1597, "fragment_mass": 0.5 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated; drop it to get rid of it.",
      "explosion": { "power": 938, "shrapnel": { "casing_mass": 1597, "fragment_mass": 0.5 } }
    },
    "flags": [ "TRADER_AVOID", "BOMB" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "EMPbomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "EMP bomb" },
    "description": "A bomb that generates an electromagnetic pulse.  When armed, the plutonium fuel cell is drained into a flux compression generator, the detonation of which creates a strong magnetic field.  When this magnetic field is fed into the antenna, it creates a strong electromagnetic pulse.  To use it, wield it and then activate it to arm the bomb.  You'll then have 50 seconds to place it down before it explodes, creating a large EMP field that damages robots and drains bionic energy, in addition to a sizable explosion and shrapnel.",
    "weight": "4543 g",
    "volume": "15500 ml",
    "price": 60000,
    "price_postapoc": 3000,
    "to_hit": -1,
    "material": [ "steel", "copper" ],
    "symbol": "*",
    "explode_in_fire": true,
    "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
    "color": "light_gray",
    "use_action": {
      "need_wielding": true,
      "target": "EMPbomb_act",
      "msg": "You arm your %s.",
      "target_charges": 50,
      "active": true,
      "menu_text": "Arm bomb",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ],
    "melee_damage": { "bash": 12 }
  },
  {
    "id": "EMPbomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "armed EMP bomb" },
    "description": "A bomb that generates an electromagnetic pulse.  When armed, the plutonium fuel cell is drained into a flux compression generator, the detonation of which creates a strong magnetic field.  When this magnetic field is fed into the antenna, it creates a strong electromagnetic pulse.  It's armed, and will explode soon, creating a large EMP field that damages robots and drains bionic energy, in addition to a sizable explosion and shrapnel.  It can't be deactivated; drop it to get rid of it.",
    "weight": "4543 g",
    "volume": "15500 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "material": [ "steel", "copper" ],
    "symbol": "*",
    "explode_in_fire": true,
    "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
    "color": "light_gray",
    "initial_charges": 50,
    "max_charges": 50,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "draw_explosion_radius": 10,
      "draw_explosion_color": "light_blue",
      "emp_blast_radius": 10,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "explosion": { "power": 600, "shrapnel": { "casing_mass": 3214, "fragment_mass": 0.5 } },
      "no_deactivate_msg": "Your %s can't be deactivated; drop it to get rid of it."
    },
    "flags": [ "TRADER_AVOID", "BOMB" ],
    "melee_damage": { "bash": 12 }
  },
  {
    "id": "firecracker",
    "type": "TOOL",
    "name": { "str": "firecracker" },
    "description": "A solitary firecracker with a short fuse.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 2 seconds to throw it before it explodes with a loud noise, but very little damage.",
    "//": "FIRECRACKER use action is currently broken; no sound on explosion, and the firecracker just disappears, so a very weak explosion is used instead.",
    "weight": "3 g",
    "volume": "10 ml",
    "price": 4,
    "price_postapoc": 10,
    "material": [ "paper" ],
    "symbol": ";",
    "color": "red",
    "use_action": {
      "need_wielding": true,
      "target": "firecracker_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 2,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 1 }
  },
  {
    "id": "firecracker_act",
    "type": "TOOL",
    "name": { "str": "lit firecracker" },
    "description": "A solitary firecracker with a short fuse.  The fuse is lit and hissing, suggesting that it'll explode soon with a loud noise, but very little damage.  It can't be deactivated; throw it to get rid of it.",
    "weight": "3 g",
    "volume": "10 ml",
    "price": 0,
    "price_postapoc": 0,
    "material": [ "paper" ],
    "symbol": ";",
    "color": "red",
    "explode_in_fire": true,
    "explosion": { "power": 15 },
    "initial_charges": 2,
    "max_charges": 2,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated; throw it to get rid of it.",
      "explosion": { "power": 15 }
    },
    "flags": [ "TRADER_AVOID" ],
    "melee_damage": { "bash": 1 }
  },
  {
    "id": "firecracker_pack",
    "type": "TOOL",
    "name": { "str": "firecracker pack" },
    "description": "This is a pack of 25 firecrackers with a starter fuse.  Use this item to light the fuse.  Of course, you will need a lighter or some matches to do so.  Shortly after you light the fuse they will begin to explode, so throw them quickly!",
    "weight": "75 g",
    "volume": "50 ml",
    "price": 100,
    "price_postapoc": 100,
    "to_hit": -3,
    "material": [ "paper" ],
    "symbol": "*",
    "color": "red",
    "initial_charges": 25,
    "max_charges": 25,
    "charges_per_use": 1,
    "use_action": [ "FIRECRACKER_PACK" ],
    "melee_damage": { "bash": 1 }
  },
  {
    "id": "firecracker_pack_act",
    "type": "TOOL",
    "name": { "str": "lit firecracker pack" },
    "description": "A pack of 25 firecrackers that has been lit; the fuse is hissing.  Throw them quickly before the start to explode.",
    "weight": "75 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "material": [ "paper" ],
    "symbol": "*",
    "color": "red",
    "turns_per_charge": 7,
    "use_action": [ "FIRECRACKER_PACK_ACT" ],
    "flags": [ "TRADER_AVOID" ]
  },
  {
    "id": "flashbang",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "M84 stun grenade" },
    "description": "A military-grade stun hand grenade, also known as flashbang.  To use it, wield it and then activate it to pull the pin and prime the grenade.  You'll then have 2 seconds to throw it before it detonates with intense light and sound, blinding, deafening and disorienting anyone nearby.",
    "weight": "370 g",
    "volume": "270 ml",
    "longest_side": "133 mm",
    "price": 2000,
    "price_postapoc": 250,
    "to_hit": -1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "dark_gray",
    "use_action": {
      "need_wielding": true,
      "target": "flashbang_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 2,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "flashbang_act",
    "type": "TOOL",
    "copy-from": "flashbang",
    "name": { "str": "primed M84 stun grenade" },
    "description": "A military-grade stun hand grenade, also known as flashbang.  Its pin and lever are missing, suggesting that it'll explode soon with intense light and sound, blinding, deafening and disorienting anyone nearby.  It can't be deactivated; throw it to get rid of it.",
    "price": 0,
    "price_postapoc": 0,
    "initial_charges": 2,
    "max_charges": 2,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "do_flashbang": true,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it."
    },
    "flags": [ "BOMB", "GRENADE", "TRADER_AVOID" ]
  },
  {
    "id": "fungicidalbomb",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "fungicidal gas grenade" },
    "price": 3600,
    "price_postapoc": 750,
    "description": "A canister hand grenade filled with fungicidal solution.  To use it, wield it and then activate it to pull the pin and arm the grenade.  It'll then immediately begin to expel a volatile spray that is highly toxic to fungal lifeforms and, to a lesser degree, other lifeforms as well, lasting for 2 minutes.",
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "fungicidalbomb_act"
    }
  },
  {
    "id": "fungicidalbomb_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed fungicidal gas canister" },
    "description": "A canister hand grenade filled with fungicidal solution.  Its pin is missing, and it's currently expelling a volatile spray that is highly toxic to fungal lifeforms and, to a lesser degree, other lifeforms as well.  It can't be deactivated; throw it to get rid of it.",
    "emits": [ "emit_fungicidal_stream" ]
  },
  {
    "id": "fungicidalbomb_makeshift",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "makeshift fungicidal gas grenade" },
    "price": 3600,
    "price_postapoc": 500,
    "description": "A makeshift canister hand grenade filled with fungicidal solution.  To use it, wield it and then activate it to pull the pin and arm the grenade.  It'll then immediately begin to expel a volatile spray that is highly toxic to fungal lifeforms and, to a lesser degree, other lifeforms as well, lasting for 1 minute.",
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "fungicidalbomb_makeshift_act"
    }
  },
  {
    "id": "fungicidalbomb_makeshift_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed makeshift fungicidal gas canister" },
    "description": "A makeshift canister hand grenade filled with fungicidal solution.  Its pin is missing, and it's currently expelling a volatile spray that is highly toxic to fungal lifeforms and, to a lesser degree, other lifeforms as well.  It can't be deactivated; throw it to get rid of it.",
    "countdown_interval": 60,
    "emits": [ "emit_small_fungicidal_stream" ]
  },
  {
    "id": "gasbomb_makeshift",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "makeshift gas canister" },
    "description": "A makeshift canister hand grenade filled with toxic solution.  To use it, wield it and then activate it to pull the pin and arm the grenade.  It'll then immediately begin to expel a volatile spray that is toxic to most lifeforms, and obscuring vision and scent, lasting for 1 minute.",
    "price": 500,
    "price_postapoc": 250,
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "gasbomb_makeshift_act"
    }
  },
  {
    "id": "gasbomb_makeshift_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed makeshift gas canister" },
    "description": "A makeshift canister hand grenade filled with toxic solution.  Its pin is missing, and it's currently expelling a volatile spray that is toxic to most lifeforms, and obscuring vision and scent.  It can't be deactivated; throw it to get rid of it.",
    "countdown_interval": 60,
    "emits": [ "emit_small_toxic_stream" ]
  },
  {
    "id": "grenade",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "M67 frag grenade" },
    "description": "A military-grade fragmentation hand grenade.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "400 g",
    "volume": "540 ml",
    "longest_side": "9 cm",
    "price": 4500,
    "price_postapoc": 1000,
    "to_hit": -1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "grenade_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 6 }
  },
  {
    "id": "grenade_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "primed M67 frag grenade" },
    "description": "A military-grade fragmentation hand grenade.  Its pin and lever are missing, suggesting that it'll explode soon, scattering shrapnel.  It can't be deactivated; throw it to get rid of it.",
    "weight": "400 g",
    "volume": "540 ml",
    "longest_side": "9 cm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "explode_in_fire": true,
    "explosion": { "power": 240, "shrapnel": { "casing_mass": 217, "fragment_mass": 0.08 } },
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 240, "shrapnel": { "casing_mass": 217, "fragment_mass": 0.08 } }
    },
    "flags": [ "BOMB", "GRENADE", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 6 }
  },
  {
    "id": "grenade_emp",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "EMP grenade" },
    "description": "A throwable single-use device that generates an electromagnetic pulse with a low-inductance capacitor bank discharged into a single-loop antenna.  To use it, wield it and then activate it to arm it.  You'll then have 3 seconds to throw it before it triggers, creating an EMP field that damages robots and drains bionic energy, as well as a mild electric shock cloud.",
    "weight": "400 g",
    "volume": "270 ml",
    "price": 6000,
    "//": "Something this useful doesn't come cheap after the apocalypse",
    "price_postapoc": 4000,
    "to_hit": -1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "looks_like": "EMPbomb",
    "color": "cyan",
    "use_action": {
      "need_wielding": true,
      "target": "grenade_emp_act",
      "msg": "You arm your %s.",
      "target_charges": 3,
      "active": true,
      "menu_text": "Arm",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "grenade_emp_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "armed EMP grenade" },
    "description": "A throwable single-use device that generates an electromagnetic pulse with a low-inductance capacitor bank discharged into a single-loop antenna.  It's armed, and will soon trigger, creating a large EMP field that damages robots and drains bionic energy, as well as a mild electric shock cloud.  It can't be deactivated; throw it to get rid of it.",
    "weight": "400 g",
    "volume": "270 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "cyan",
    "initial_charges": 3,
    "max_charges": 3,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "fields_type": "fd_electricity",
      "fields_radius": 1,
      "fields_min_intensity": 2,
      "fields_max_intensity": 10,
      "emp_blast_radius": 4,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it."
    },
    "flags": [ "TRADER_AVOID" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "grenade_inc",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "M34 incendiary grenade" },
    "description": "A military-grade white phosphorus hand grenade with a plastic hull.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 4 seconds to throw it before it explodes into a raging inferno.",
    "weight": "770 g",
    "volume": "540 ml",
    "longest_side": "14 cm",
    "price": 2000,
    "price_postapoc": 1500,
    "to_hit": -1,
    "material": [ "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "use_action": {
      "need_wielding": true,
      "target": "grenade_inc_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 4,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE", "GRENADE" ],
    "melee_damage": { "bash": 6 }
  },
  {
    "id": "grenade_inc_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "primed M34 incendiary grenade" },
    "description": "A military-grade white phosphorus hand grenade with a plastic hull.  Its pin and lever are missing, suggesting that it'll soon explode into a raging inferno.  It can't be deactivated; throw it to get rid of it.",
    "weight": "770 g",
    "volume": "540 ml",
    "longest_side": "14 cm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "material": [ "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 4,
    "max_charges": 4,
    "turns_per_charge": 1,
    "revert_to": "canister_empty",
    "use_action": [ "GRENADE_INC_ACT" ],
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 6 }
  },
  {
    "abstract": "grenade_canister",
    "type": "GENERIC",
    "category": "weapons",
    "name": { "str": "canister grenade" },
    "weight": "250 g",
    "volume": "540 ml",
    "longest_side": "15 cm",
    "material": [ "steel" ],
    "symbol": "*",
    "color": "dark_gray",
    "use_action": { "type": "countdown", "name": "Pull pin", "message": "You pull the pin on your %s." },
    "countdown_interval": 5,
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "ACT_IN_FIRE" ]
  },
  {
    "id": "gasbomb",
    "copy-from": "grenade_canister",
    "looks_like": "smokebomb",
    "type": "GENERIC",
    "name": { "str": "tear gas grenade" },
    "price": 3600,
    "price_postapoc": 250,
    "description": "A canister hand grenade filled with CS gas in powder form.  To use it, wield it and then activate it to pull the pin.  It'll then immediately begin to expel an irritating gas that damages and slows those who enter it, as well as obscuring vision and scent, lasting for 2 minutes.",
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "gasbomb_act"
    }
  },
  {
    "id": "gasbomb_act",
    "copy-from": "gasbomb",
    "looks_like": "smokebomb_act",
    "type": "GENERIC",
    "name": { "str": "armed tear gas grenade" },
    "price_postapoc": 0,
    "description": "A canister hand grenade filled with CS gas in powder form.  Its pin is missing, and it's currently expelling an irritating gas that damages and slows those who enter it, as well as obscuring vision and scent.  It can't be deactivated; throw it to get rid of it.",
    "emits": [ "emit_tear_gas_stream" ],
    "countdown_interval": 120,
    "countdown_action": { "type": "transform", "target": "canister_empty" },
    "flags": [ "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "insecticidalbomb",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "insecticidal gas grenade" },
    "price": 3600,
    "price_postapoc": 750,
    "description": "A canister hand grenade filled with insecticidal solution.  To use it, wield it and then activate it to pull the pin.  It'll then immediately begin to expel a volatile spray that is highly toxic to insect lifeforms and, to a lesser degree, other lifeforms as well, lasting for 2 minutes.",
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "insecticidalbomb_act"
    }
  },
  {
    "id": "insecticidalbomb_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed insecticidal gas grenade" },
    "description": "A canister hand grenade filled with insecticidal solution.  Its pin is missing, and it's currently expelling a volatile spray that is highly toxic to insect lifeforms and, to a lesser degree, other lifeforms as well.  It can't be deactivated; throw it to get rid of it.",
    "emits": [ "emit_insecticidal_stream" ]
  },
  {
    "id": "insecticidalbomb_makeshift",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "makeshift insecticidal gas grenade" },
    "price": 3600,
    "price_postapoc": 500,
    "description": "A makeshift canister hand grenade filled with insecticidal solution.  To use it, wield it and then activate it to pull the pin.  It'll then immediately begin to expel a volatile spray that is highly toxic to insect lifeforms and, to a lesser degree, other lifeforms as well, lasting for 2 minutes.",
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "insecticidalbomb_makeshift_act"
    }
  },
  {
    "id": "insecticidalbomb_makeshift_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed makeshift insecticidal gas grenade" },
    "description": "A makeshift canister hand grenade filled with insecticidal solution.  Its pin is missing, and it's currently expelling a volatile spray that is highly toxic to insect lifeforms and, to a lesser degree, other lifeforms as well.  It can't be deactivated; throw it to get rid of it.",
    "emits": [ "emit_small_insecticidal_stream" ]
  },
  {
    "id": "LAW_Packed",
    "type": "GENERIC",
    "category": "guns",
    "name": { "str": "packed M72 LAW" },
    "description": "A portable single-shot anti-tank rocket launcher, packed in its storage form.  To use it, wield it and then activate it to unpack it and make it ready to fire.  Once unpacked, it cannot be repacked into the original configuration.  Once fired, it cannot be reloaded and must be disposed of.",
    "weight": "2500 g",
    "volume": "1500 ml",
    "longest_side": "63 cm",
    "price": 200000,
    "price_postapoc": 4000,
    "material": [ "aluminum" ],
    "explode_in_fire": true,
    "explosion": { "power": 400, "shrapnel": { "casing_mass": 680, "fragment_mass": 0.15 } },
    "symbol": ")",
    "color": "green",
    "use_action": {
      "target": "LAW",
      "msg": "You pull the activating lever, preparing your %s to fire.",
      "target_charges": 1,
      "target_ammo": "66mm_HEAT",
      "menu_text": "Unpack",
      "need_wielding": true,
      "type": "transform"
    },
    "melee_damage": { "bash": 6 }
  },
  {
    "id": "mininuke",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "mininuke" },
    "//": "This is based on the Davy Crockett nuclear artillery shell, all other man-portable nuclear weapons have far too high a yield.",
    "description": "A portable low-yield nuclear bomb; its explosion would be large enough to take out a small house.  To use it, activate it to arm it; you'll then be presented with an option to specify time until detonation, in seconds.  After the time specified passes, it'll explode.",
    "weight": "23100 g",
    "volume": "16 L",
    "longest_side": "40 cm",
    "price": 180000,
    "price_postapoc": 10000,
    "to_hit": -2,
    "//2": "Mininuke probably should be disabled by fire rather than detonated, but it makes even less sense for it to burn into 100% safe scrap metal either, so currently it's unharmed by fire.",
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_green",
    "use_action": [ "MININUKE" ],
    "flags": [ "LEAK_DAM", "RADIOACTIVE", "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB" ],
    "melee_damage": { "bash": 8 }
  },
  {
    "id": "mininuke_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "armed mininuke" },
    "//": "This is based on the Davy Crockett nuclear artillery shell, all other man-portable nuclear weapons have far too high a yield.",
    "description": "A portable low-yield nuclear bomb; its explosion would be large enough to take out a small house.  Its timer is ticking down, suggesting that it'll explode soon.  It can't be deactivated; drop it to get rid of it.",
    "weight": "23100 g",
    "volume": "16 L",
    "longest_side": "40 cm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -2,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_green",
    "turns_per_charge": 1,
    "max_charges": 9,
    "use_action": {
      "type": "explosion",
      "fields_type": "fd_nuke_gas",
      "fields_radius": 18,
      "fields_min_intensity": 3,
      "fields_max_intensity": 3,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, drop it to get rid of it.",
      "explosion": { "power": 9000000 }
    },
    "flags": [ "LEAK_DAM", "RADIOACTIVE", "TRADER_AVOID", "BOMB" ],
    "melee_damage": { "bash": 8 }
  },
  {
    "id": "molotov",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "Molotov cocktail" },
    "description": "A glass bottle full of flammable liquid, with a rag inserted into its neck.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  It then has to be thrown immediately; otherwise, it'll be extinguished, allowing it to be used another time.",
    "//": "Should explode in fire, spreading fire, but currently ACT_IN_FIRE flag doesn't properly work for this.",
    "weight": "1017 g",
    "volume": "959 ml",
    "longest_side": "276 mm",
    "price": 500,
    "price_postapoc": 500,
    "to_hit": 1,
    "material": [ "glass" ],
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 1,
    "max_charges": 1,
    "use_action": {
      "need_wielding": true,
      "target": "molotov_lit",
      "msg": "You light the rag on your %s.",
      "target_charges": 1,
      "active": true,
      "moves": 75,
      "need_fire": 1,
      "menu_text": "Light rag",
      "type": "transform"
    },
    "flags": [ "NPC_ACTIVATE" ],
    "melee_damage": { "bash": 2 }
  },
  {
    "id": "molotov_lit",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit Molotov cocktail" },
    "description": "A glass bottle full of flammable liquid, with a rag inserted into its neck.  The rag is burning; throw this item to start a fire.  If not thrown or dropped, it'll be extinguished in a second, allowing it to be used another time.",
    "weight": "1017 g",
    "volume": "959 ml",
    "longest_side": "276 mm",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": 1,
    "material": [ "glass" ],
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 1,
    "max_charges": 1,
    "turns_per_charge": 1,
    "use_action": [ "MOLOTOV_LIT" ],
    "flags": [ "LIGHT_15", "TRADER_AVOID", "NPC_THROW_NOW", "WATER_EXTINGUISH" ],
    "melee_damage": { "bash": 2 }
  },
  {
    "id": "scrambler",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "scrambler grenade" },
    "description": "A throwable single-use device that temporarily scrambles the IFF systems of robots when it triggers, making them friendly for a short time.  To use it, wield it and then activate it to arm it.  You'll then have 3 seconds to throw it before it triggers.",
    "weight": "500 g",
    "volume": "270 ml",
    "price": 6000,
    "//": "Something this useful doesn't come cheap after the apocalypse",
    "price_postapoc": 5000,
    "to_hit": -1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "yellow",
    "use_action": {
      "need_wielding": true,
      "target": "scrambler_act",
      "msg": "You arm your %s.",
      "target_charges": 3,
      "active": true,
      "menu_text": "Arm",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "scrambler_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "armed scrambler grenade" },
    "description": "A throwable single-use device that temporarily scrambles the IFF systems of robots when it triggers, making them friendly for a short time.  It's armed, and will soon trigger.  It can't be deactivated; throw it to get rid of it.",
    "weight": "500 g",
    "volume": "270 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -1,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "yellow",
    "initial_charges": 3,
    "max_charges": 3,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "draw_explosion_radius": 4,
      "draw_explosion_color": "cyan",
      "scrambler_blast_radius": 4,
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it."
    },
    "flags": [ "TRADER_AVOID" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "smokebomb",
    "copy-from": "gasbomb",
    "type": "GENERIC",
    "name": { "str": "M18 smoke grenade" },
    "weight": "539 g",
    "volume": "500 ml",
    "longest_side": "146 mm",
    "description": "A military-grade canister hand grenade filled with a smoke mixture.  To use it, wield it and then activate it to pull the pin.  It'll then immediately begin to expel a thick smoke that slows down those who enter it, as well as obscuring vision and scent, lasting for 1 minute.",
    "price": 1800,
    "price_postapoc": 0,
    "use_action": {
      "need_wielding": true,
      "menu_text": "Pull pin",
      "msg": "You pull the pin on your %s.",
      "type": "transform",
      "target": "smokebomb_act"
    }
  },
  {
    "id": "smokebomb_act",
    "copy-from": "gasbomb_act",
    "type": "GENERIC",
    "name": { "str": "armed M18 smoke grenade" },
    "weight": "539 g",
    "volume": "500 ml",
    "longest_side": "146 mm",
    "description": "A military-grade canister hand grenade filled with a smoke mixture.  Its pin is missing, and it's currently expelling a a thick smoke that slows down those who enter it, as well as obscuring vision and scent.  It can't be deactivated; throw it to get rid of it.",
    "countdown_interval": 60,
    "emits": [ "emit_smoke_stream" ]
  },
  {
    "id": "tool_rocket_candy",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "rocket candy chunk" },
    "description": "A chunk of rocket candy obtained by heating saltpeter with sugar and casting the obtained liquid.  Can serve as a rocket fuel.  Alternatively, can be lit to produce smoke; to use it for this purpose, but also as a smokescreen - if you lit the narrow end, you should be able to throw it before the flame reaches the broad end.",
    "weight": "250 g",
    "volume": "250 ml",
    "price": 100,
    "price_postapoc": 100,
    "to_hit": -2,
    "material": [ "powder" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "tool_rocket_candy_act",
      "msg": "You light your %s.",
      "moves": 75,
      "need_fire": 1,
      "menu_text": "Light",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 1 }
  },
  {
    "id": "tool_rocket_candy_act",
    "type": "GENERIC",
    "looks_like": "tool_rocket_candy",
    "name": { "str": "burning rocket candy chunk" },
    "description": "A chunk of rocket candy obtained by heating saltpeter with sugar and casting the obtained liquid.  It's currently burning, producing some smoke.  It can't be deactivated; throw it to get rid of it.",
    "weight": "250 g",
    "volume": "250 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -2,
    "material": [ "powder" ],
    "symbol": "*",
    "color": "green",
    "emits": [ "emit_smoke_plume" ],
    "countdown_interval": 20,
    "countdown_action": { "type": "transform", "target": "null" },
    "flags": [ "BOMB", "DANGEROUS", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 1 }
  },
  {
    "id": "military_explosive_small_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "makeshift grenade" },
    "looks_like": "grenade",
    "description": "A throwable improvised explosive device outfitted with a mechanical delayed fuze from a real grenade.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "600 g",
    "volume": "270 ml",
    "price": 1500,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "military_explosive_small_grenade_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "NPC_ACTIVATE", "ACT_IN_FIRE" ]
  },
  {
    "id": "military_explosive_small_grenade_act",
    "copy-from": "military_explosive_small_grenade",
    "type": "TOOL",
    "name": { "str": "primed makeshift grenade" },
    "description": "A throwable improvised explosive device outfitted with a mechanical delayed fuze from a real grenade.  Its pin and lever are missing, suggesting that it'll explode soon, scattering shrapnel.  It can't be deactivated; throw it to get rid of it",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 460, "shrapnel": { "casing_mass": 200, "fragment_mass": 0.4 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 460, "shrapnel": { "casing_mass": 200, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "military_explosive_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "large makeshift grenade" },
    "looks_like": "grenade",
    "description": "A throwable improvised explosive device outfitted with a mechanical delayed fuze from a real grenade, with extra size and weight to increase power at the cost of throwing range.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "1200 g",
    "volume": "540 ml",
    "price": 3000,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "military_explosive_grenade_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "NPC_ACTIVATE", "ACT_IN_FIRE" ]
  },
  {
    "id": "military_explosive_grenade_act",
    "copy-from": "military_explosive_grenade",
    "type": "TOOL",
    "name": { "str": "primed large makeshift grenade" },
    "description": "A throwable improvised explosive device outfitted with a mechanical delayed fuze from a real grenade, with extra size and weight to increase power at the cost of throwing range.  Its pin and lever are missing, suggesting that it'll explode soon, scattering shrapnel.  It can't be deactivated; throw it to get rid of it.",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 920, "shrapnel": { "casing_mass": 400, "fragment_mass": 0.4 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "Tick.",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 920, "shrapnel": { "casing_mass": 400, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "military_explosive_pipebomb",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "pipe bomb" },
    "looks_like": "pipebomb",
    "description": "A throwable makeshift explosive device, consisting of a section of steel pipe filled with explosive material and outfitted with a mechanical delayed fuze from a real grenade.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "1140 g",
    "//": "Only one third (410 g) of a whole pipe is being used",
    "volume": "500 ml",
    "longest_side": "20 cm",
    "price": 3000,
    "price_postapoc": 3000,
    "to_hit": 1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_gray",
    "use_action": {
      "need_wielding": true,
      "target": "military_explosive_pipebomb_act",
      "msg": "You pull the pin on your %s.",
      "target_charges": 5,
      "active": true,
      "menu_text": "Pull pin",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE", "ACT_IN_FIRE", "GRENADE" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "military_explosive_pipebomb_act",
    "copy-from": "military_explosive_pipebomb",
    "type": "TOOL",
    "name": { "str": "primed pipe bomb" },
    "looks_like": "pipebomb_act",
    "description": "A throwable makeshift explosive device, consisting of a section of steel pipe filled with explosive material and outfitted with a mechanical delayed fuze from a real grenade.",
    "price": 0,
    "color": "light_gray",
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already pulled the %s's pin, try throwing it instead.",
      "explosion": { "power": 920, "shrapnel": { "casing_mass": 410, "fragment_mass": 0.5 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "small_homemade_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "makeshift fuse grenade" },
    "looks_like": "homemade_grenade",
    "description": "A throwable improvised explosive device outfitted with a fuse.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "460 g",
    "volume": "270 ml",
    "price": 750,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "small_homemade_grenade_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "NPC_ACTIVATE", "ACT_IN_FIRE" ]
  },
  {
    "id": "small_homemade_grenade_act",
    "copy-from": "small_homemade_grenade",
    "type": "TOOL",
    "name": { "str": "lit makeshift fuse grenade" },
    "description": "A throwable improvised explosive device outfitted with a fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 150, "shrapnel": { "casing_mass": 200, "fragment_mass": 0.4 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 150, "shrapnel": { "casing_mass": 200, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "homemade_grenade",
    "copy-from": "grenade",
    "type": "TOOL",
    "name": { "str": "large makeshift fuse grenade" },
    "description": "A throwable improvised explosive device outfitted with a fuse, with extra size and weight to increase power at the cost of throwing range.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "900 g",
    "price": 1500,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "green",
    "use_action": {
      "need_wielding": true,
      "target": "homemade_grenade_act",
      "msg": "You light the fuse on the improvised grenade.  Throw it before it blows in your face!",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "GRENADE", "NPC_ACTIVATE", "ACT_IN_FIRE" ]
  },
  {
    "id": "homemade_grenade_act",
    "copy-from": "homemade_grenade",
    "type": "TOOL",
    "name": { "str": "lit large makeshift fuse grenade" },
    "description": "A throwable improvised explosive device outfitted with a fuse, with extra size and weight to increase power at the cost of throwing range.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "price": 0,
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 0.4 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 300, "shrapnel": { "casing_mass": 400, "fragment_mass": 0.4 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "pipebomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "fuse pipe bomb" },
    "looks_like": "pipebomb",
    "description": "A throwable improvised explosive device, consisting of a section of steel pipe filled with explosive material and outfitted with a fuse.  To use it, wield it and then activate it to pull the pin and prime it.  You'll then have 5 seconds to throw it before it explodes, scattering shrapnel.",
    "weight": "840 g",
    "//": "Only one third (410 g) of a whole pipe is being used",
    "volume": "500 ml",
    "price": 1500,
    "to_hit": 1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_gray",
    "use_action": {
      "need_wielding": true,
      "target": "pipebomb_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 5,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "NPC_ACTIVATE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "pipebomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit fuse pipe bomb" },
    "looks_like": "pipebomb",
    "description": "A throwable improvised explosive device, consisting of a section of steel pipe filled with explosive material and outfitted with a fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "weight": "840 g",
    "volume": "500 ml",
    "price": 0,
    "to_hit": 1,
    "material": [ "steel" ],
    "symbol": "*",
    "color": "light_gray",
    "initial_charges": 5,
    "max_charges": 5,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 300, "shrapnel": { "casing_mass": 410, "fragment_mass": 0.5 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 300, "shrapnel": { "casing_mass": 410, "fragment_mass": 0.5 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 5 }
  },
  {
    "id": "homemade_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "makeshift fragmentation bomb" },
    "description": "An improvised explosive device, consisting of a large plastic jug filled with stable explosives and scrap metal, outfitted with a long fuse.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 20 seconds to place it down before it explodes, scattering shrapnel.",
    "weight": "6500 g",
    "volume": "3900 ml",
    "price": 10000,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "red",
    "use_action": {
      "need_wielding": true,
      "target": "homemade_bomb_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE" ]
  },
  {
    "id": "homemade_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit makeshift fragmentation bomb" },
    "description": "An improvised explosive device, consisting of a large plastic jug filled with stable explosives and scrap metal, outfitted with a long fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; drop it to get rid of it.",
    "weight": "6500 g",
    "volume": "3900 ml",
    "price": 0,
    "to_hit": -2,
    "material": [ "steel", "plastic" ],
    "symbol": "*",
    "color": "light_red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 2320, "shrapnel": { "casing_mass": 3000, "fragment_mass": 0.5, "drop": "scrap", "recovery": 20 } },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated, throw it to get rid of it.",
      "explosion": { "power": 2320, "shrapnel": { "casing_mass": 3000, "fragment_mass": 0.5, "drop": "scrap", "recovery": 20 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ]
  },
  {
    "id": "homemade_demolition_charge",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "makeshift bomb" },
    "description": "An improvised explosive device, consisting of a large plastic jug filled with stable explosives, outfitted with a long fuse.  To use it, wield it and then activate it to light the fuse; you'll need a firestarting tool.  You'll then have 20 seconds to place it down before it explodes.",
    "weight": "3875 g",
    "volume": "3900 ml",
    "price": 0,
    "to_hit": -3,
    "material": [ "plastic" ],
    "symbol": "*",
    "color": "red",
    "use_action": {
      "need_wielding": true,
      "target": "homemade_demolition_charge_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 20,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "homemade_demolition_charge_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit makeshift bomb" },
    "description": "An improvised explosive device, consisting of a large plastic jug filled with stable explosives, outfitted with a long fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; drop it to get rid of it.",
    "weight": "3875 g",
    "volume": "3900 ml",
    "price": 0,
    "price_postapoc": 0,
    "to_hit": -3,
    "material": [ "plastic" ],
    "symbol": "*",
    "color": "red",
    "initial_charges": 20,
    "max_charges": 20,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 2590 },
    "use_action": {
      "type": "explosion",
      "sound_volume": 0,
      "sound_msg": "ssss…",
      "no_deactivate_msg": "Your %s can't be deactivated, drop it to get rid of it.",
      "explosion": { "power": 2590 }
    },
    "flags": [ "TRADER_AVOID" ],
    "melee_damage": { "bash": 4 }
  },
  {
    "id": "half_barrel_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "50L barrel bomb" },
    "description": "An improvised explosive device, consisting of a 50-liter steel keg filled with explosives, outfitted with a long fuse.  To use it, activate it to light the fuse; you'll need a firestarting tool.  You'll then have 100 seconds to place it down before it explodes, scattering shrapnel.",
    "weight": "61620 g",
    "volume": "52500 ml",
    "price": 100000,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "red",
    "use_action": {
      "target": "half_barrel_bomb_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 100,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ALLOWS_REMOTE_USE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 20 }
  },
  {
    "id": "half_barrel_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "lit 50L barrel bomb" },
    "description": "An improvised explosive device, consisting of a 50-liter steel keg filled with explosives, outfitted with a long fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; drop it to get rid of it.",
    "weight": "61620 g",
    "volume": "52500 ml",
    "price": 0,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 100,
    "max_charges": 100,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 34400, "shrapnel": { "casing_mass": 12600, "fragment_mass": 600 } },
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "Your %s can't be deactivated, drop it to get rid of it.",
      "explosion": { "power": 34400, "shrapnel": { "casing_mass": 12600, "fragment_mass": 600 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 20 }
  },
  {
    "id": "full_barrel_bomb",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "100L barrel bomb" },
    "description": "An improvised explosive device, consisting of a 100-liter steel barrel filled with explosives, outfitted with a long fuse.  To use it, activate it to light the fuse; you'll need a firestarting tool.  You'll then have 100 seconds to place it down before it explodes, scattering shrapnel.",
    "weight": "110610 g",
    "volume": "105 L",
    "price": 90000,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "red",
    "use_action": {
      "target": "full_barrel_bomb_act",
      "msg": "You light the fuse on your %s.",
      "target_charges": 100,
      "active": true,
      "need_fire": 1,
      "menu_text": "Light fuse",
      "type": "transform"
    },
    "flags": [ "RADIO_MODABLE", "RADIO_INVOKE_PROC", "BOMB", "ALLOWS_REMOTE_USE", "ACT_IN_FIRE" ],
    "melee_damage": { "bash": 20 }
  },
  {
    "id": "full_barrel_bomb_act",
    "type": "TOOL",
    "category": "weapons",
    "name": { "str": "active 100L barrel bomb" },
    "description": "An improvised explosive device, consisting of a 100-liter steel barrel filled with explosives, outfitted with a long fuse.  Its fuse is lit and hissing, suggesting that it'll explode soon.  It can't be deactivated; throw or drop it to get rid of it.",
    "weight": "110610 g",
    "volume": "105 L",
    "price": 0,
    "to_hit": -5,
    "material": [ "steel" ],
    "symbol": "(",
    "color": "light_red",
    "initial_charges": 100,
    "max_charges": 100,
    "turns_per_charge": 1,
    "explode_in_fire": true,
    "explosion": { "power": 69200, "shrapnel": { "casing_mass": 12000, "fragment_mass": 600 } },
    "use_action": {
      "type": "explosion",
      "no_deactivate_msg": "You've already activated the bomb - clear the area immediately!",
      "explosion": { "power": 69200, "shrapnel": { "casing_mass": 12000, "fragment_mass": 600 } }
    },
    "flags": [ "BOMB", "TRADER_AVOID", "DANGEROUS" ],
    "melee_damage": { "bash": 20 }
  }
]
